(this["webpackJsonpaap-conversion-homework"]=this["webpackJsonpaap-conversion-homework"]||[]).push([[0],{126:function(e,t,r){},128:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(20),c=r.n(o),s=(r(77),r(39)),i=r(5),u=r.n(i),l=r(132),p=r(61),d=r.n(p),f=r(62),m=r(10),b=r(69),g=r(29),v=r(30),O=r(43),h=r(31),y=r(19),D=r(42),j=r(63),w=r(65),E=r.n(w),P=r(71),C=(r(82),function(e){var t=e.columns,r=e.data,n=e.isLoading,o=e.isError,c=e.loadingText,s=e.noDataText;return a.a.createElement(P.a,{className:"-striped -highlight",data:o||r,resolveData:r?function(){return r}:[],columns:t,filterable:!0,sortable:!1,resizable:!1,defaultPageSize:10,pageSizeOptions:[5,10,20,50,100],loading:n||o,loadingText:c,noDataText:s,showPagination:r.length>10})}),S=r(66),k=r.n(S),T=(r(126),function(e){var t=e.disabled,r=e.minDate,n=e.placeholder,o=e.startDate,c=e.setDate;return a.a.createElement(k.a,{disabled:t,minDate:r,placeholderText:n,selected:o,onChange:function(e){return c(e)},isClearable:!0})});T.defaultProps={disabled:!1,minDate:void 0,startDate:void 0};var x=T;function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var H=function(e){function t(e){var r;return Object(g.a)(this,t),(r=Object(O.a)(this,Object(h.a)(t).call(this,e))).addCampaigns=r.addCampaigns.bind(Object(y.a)(r)),r.mapCampaigns=r.mapCampaigns.bind(Object(y.a)(r)),r.constructColumns=r.constructColumns.bind(Object(y.a)(r)),r.selectStartDate=r.selectStartDate.bind(Object(y.a)(r)),r.state={startDate:null},r}return Object(D.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){window.AddCampaigns=this.addCampaigns}},{key:"componentWillUnmount",value:function(){window.AddCampaigns=null}},{key:"addCampaigns",value:function(e){var t=this.props,r=t.loadCampaigns,n=t.fetchUsers,a=t.users;Object.entries(a).length>0||n(),r(e)}},{key:"mapCampaigns",value:function(){var e=this.props,t=e.campaigns,r=e.users,n=e.intl.formatMessage,a=Date.now(),o=[n({id:"isActive.value.yes"}),n({id:"isActive.value.no"})];return t.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{userName:e.userId in r?r[e.userId]:n({id:"users.unknownUser"}),isActive:a>=new Date(e.startDate)&&a<=new Date(e.endDate)?o[0]:o[1]})}))}},{key:"constructColumns",value:function(){var e=this,t=this.props,r=t.intl.formatMessage,n=t.campaigns,o=this.state.startDate;return[{Header:r({id:"column.name"}),accessor:"name",filterMethod:function(e,t){return Object(j.a)(t,e.value,{keys:["name"]})},filterAll:!0},{Header:r({id:"column.userName"}),accessor:"userName",filterable:!1},{Header:r({id:"column.startDate"}),accessor:"startDate",Filter:function(t){var o=t.filter,c=t.onChange;return a.a.createElement(x,{startDate:o?o.value:void 0,disabled:0===n.length,setDate:function(t){return e.selectStartDate(c,t)},placeholder:r({id:"column.startDate"})})},filterMethod:function(e,t){return!e||!e.value||new Date(t.startDate)>=e.value}},{Header:r({id:"column.endDate"}),accessor:"endDate",Filter:function(e){var t=e.filter,n=e.onChange;return a.a.createElement(x,{startDate:t?t.value:void 0,setDate:n,minDate:o,disabled:null===o,placeholder:r({id:null===o?"endDate.disabled.placeholder":"column.endDate"})})},filterMethod:function(e,t){return!e||!e.value||new Date(t.endDate)<=e.value}},{Header:r({id:"column.isActive"}),accessor:"isActive",filterable:!1},{Header:r({id:"column.budget"}),accessor:"budget",filterable:!1,Cell:function(e){return E()(e.value).format("($ 0.00 a)")}}]}},{key:"selectStartDate",value:function(e,t){this.setState({startDate:t},(function(){return e(t)}))}},{key:"render",value:function(){var e=this.props,t=e.isLoading,r=e.isError,n=e.intl.formatMessage,o=e.campaigns,c=this.mapCampaigns(),s=this.constructColumns(),i=n({id:r?"users.fetchError":"users.loading"}),u=n({id:0===o.length?"campaigns.noData":"campaigns.noFilteredData"});return a.a.createElement(C,{columns:s,data:c,isLoading:t,isError:r,loadingText:i,noDataText:u})}}]),t}(n.Component),U=r(25),F=r.n(U),N=r(38),M={get:function(){var e=Object(N.a)(F.a.mark((function e(t){var r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L={fetchUsers:function(){return M.get("https://jsonplaceholder.typicode.com/users")}};function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=function(e){return{type:"@users/FETCH_SUCCESS",payload:e}};function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var B={fetchUsers:function(){return function(){var e=Object(N.a)(F.a.mark((function e(t){var r,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"@users/FETCH"}),e.prev=1,e.next=4,L.fetchUsers();case 4:r=e.sent,n=r.reduce((function(e,t){var r=t.id,n=t.name;return I({},e,Object(m.a)({},r,n))}),{}),t(_(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"@users/FETCH_ERROR"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},loadCampaigns:function(e){return function(t){t(function(e){return{type:"@campaigns/SET",payload:e}}(e))}}},J=Object(s.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({campaigns:e.campaigns.campaigns},e.users)}),B)(Object(b.b)(H)),W=u.a.bind(d.a);var $=function(){var e=f.translations;return a.a.createElement(l.a,{locale:"en",messages:e},a.a.createElement("div",{className:W("app")},a.a.createElement(J,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=r(70),G=r(17),K=r(57),Q={campaigns:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@campaigns/SET":return{campaigns:[].concat(Object(K.a)(e.campaigns),Object(K.a)(t.payload))};default:return e}};function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(r,!0).forEach((function(t){Object(m.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z={users:{},isLoading:!1,isError:!1},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@users/FETCH":return Y({},Z,{isLoading:!0});case"@users/FETCH_SUCCESS":return Y({},Z,{users:t.payload});case"@users/FETCH_ERROR":return Y({},Z,{isError:!0});default:return e}},te=Object(G.c)({campaigns:V,users:ee}),re=Object(G.d)(te,Object(G.a)(q.a));c.a.render(a.a.createElement(s.a,{store:re},a.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},61:function(e,t,r){},62:function(e){e.exports=JSON.parse('{"translations":{"column.name":"Name","column.startDate":"Start Date","column.endDate":"End Date","column.budget":"Budget","column.userName":"User Name","column.isActive":"Is Active","isActive.value.yes":"Active","isActive.value.no":"Inactive","endDate.disabled.placeholder":"Select Start Date","users.fetchError":"An error occurred. Please try loading data again","users.loading":"Loading...","users.unknownUser":"Unknown user","campaigns.noData":"Please load the campaigns","campaigns.noFilteredData":"No data matches the search criteria"},"locale":"en","formats":{}}')},72:function(e,t,r){e.exports=r(128)},77:function(e,t,r){},82:function(e,t,r){}},[[72,1,2]]]);
//# sourceMappingURL=main.ac91c0d8.chunk.js.map